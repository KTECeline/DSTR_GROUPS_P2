# Hospital Management System (DSTR_GROUPS_P2)

This repository contains a compact, menu-driven hospital management system implemented in C++. It demonstrates four role-based modules and simple file-based persistence for educational purposes.

Modules
- Role 1 — Patient Admission (Array-based FIFO queue)
- Role 2 — Medical Supply Manager (Linked-list stack)
- Role 3 — Emergency Department (Priority queue / sorted array)
- Role 4 — Ambulance Dispatcher (Circular linked list)

The application persists small CSV/text files under `data/` so state is preserved between runs.

## Quick start

Requirements
- A C++ compiler supporting C++17 (g++ or clang++)

Build
```bash
g++ -std=c++17 -Wall -Wextra main.cpp PatientAdmission.cpp Ambulance.cpp Emergency.cpp MedicalSupply.cpp -o main
```

Run
```bash
./main
```

## Project layout

```
.
├── main.cpp                 # Entry point (menu that dispatches to each role)
├── PatientAdmission.hpp     # Role 1 header
├── PatientAdmission.cpp     # Role 1 implementation (array queue, file persistence)
├── MedicalSupply.hpp        # Role 2 header
├── MedicalSupply.cpp        # Role 2 implementation (linked-list stack, file persistence)
├── Emergency.hpp            # Role 3 header
├── Emergency.cpp            # Role 3 implementation (priority queue-like behavior, file persistence)
├── Ambulance.hpp            # Role 4 header
├── Ambulance.cpp            # Role 4 implementation (circular linked list, file persistence)
└── data/                    # Persistent CSV/text files used by the modules
        ├── patients.txt         # PatientAdmission persistence (CSV: ID,Name,Condition)
        ├── medical_supplies.txt # MedicalSupply persistence (CSV: ID,Name,Quantity,Batch,Expiry,Notes)
        ├── emergency.txt        # EmergencyDepartment persistence (CSV: ID,Name,Type,Priority)
        └── ambulances.txt       # Ambulance persistence (CSV: ID,Vehicle,Driver,Notes,ShiftStart,ShiftEnd,IsOnDuty)
```

## Role summaries & behavior

### Role 1 — Patient Admission
- Data structure: fixed-size array queue (MAX_PATIENTS = 100)
- Storage: saved to `data/patients.txt` as CSV lines `ID,Name,Condition`
- Behavior:
    - Loads existing patients on startup
    - `admitPatient()` auto-assigns a unique ID, upper-cases name and condition, appends to in-memory queue, saves file
    - `dischargePatient()` removes from head, saves file
    - Prints a formatted admission ticket for each admitted patient

Example `data/patients.txt` line:
```
3,HAO KANG,HAND PAIN
```

### Role 2 — Medical Supply Manager
- Data structure: linked-list stack (LIFO)
- Storage: `data/medical_supplies.txt` (CSV: `ID,Name,Quantity,Batch,Expiry,Notes`)
- Behavior: push new supplies, pop/use last-added, view stack; validates input and persists changes.

Example `data/medical_supplies.txt` lines:
```
ID,Name,Quantity,Batch,Expiry,Notes
1,Surgical Mask,200,BATCH-001,2026-06-01,Standard masks
```

### Role 3 — Emergency Department
- Data structure: sorted array acting like a priority queue (lower number = higher urgency)
- Storage: `data/emergency.txt` (CSV: `ID,Name,Type,Priority`)
- Behavior: loads previous emergency cases, imports new patients from `patients.txt` (avoids duplicates), allows logging new emergencies, processing top-priority case, searching and updating priorities.

Example `data/emergency.txt` line:
```
5,JOHN DOE,Heart Attack,1
```

### Role 4 — Ambulance Dispatcher
- Data structure: circular singly-linked list (rotation via tail pointer)
- Storage: `data/ambulances.txt` (CSV: `ID,Vehicle,Driver,Notes,ShiftStart,ShiftEnd,IsOnDuty`)
- Behavior: register ambulances, rotate duty roster (O(1)), assign shifts (minutes since midnight), save/load roster.

Example `data/ambulances.txt` line (with header):
```
ID,Vehicle,Driver,Notes,ShiftStart,ShiftEnd,IsOnDuty
1,ABC-123,Jane Smith,Spare unit,480,960,0
```

## Admission ticket format
When a patient is admitted, the app prints a compact ticket similar to:

```
╔═════════════════════════════════════════╗
║       HOSPITAL ADMISSION TICKET         ║
╠═════════════════════════════════════════╣
║ Patient ID: 3                           ║
║ Name: HAO KANG                          ║
║ Condition: HAND PAIN                    ║
║ Time: Thu Nov  7 10:30:45 2025          ║
╚═════════════════════════════════════════╝
```

## Notes, assumptions & known issues
- Persistence format: CSV with simple commas. If your text fields contain commas, parsing may misbehave.
- `PatientAdmission` uses `data/patients.txt` (not .csv) to match the implementation.
- Emergency import: `EmergencyDepartment` will import patients from `data/patients.txt` if they are not already present in `data/emergency.txt`.
- Build: the project is intentionally small and does not use external dependencies or build systems (e.g., CMake). You can wrap the g++ command above in a Makefile if desired.

## Development & tests
- To compile with warnings and debug info:
```bash
g++ -std=c++17 -Wall -Wextra -g main.cpp PatientAdmission.cpp Ambulance.cpp Emergency.cpp MedicalSupply.cpp -o main
```

- Run and exercise each menu. The code prints helpful messages while loading/saving data in `data/`.

## Contributing
- Feel free to open issues or PRs. Suggested improvements:
    - Replace ad-hoc CSV parsing with a small library or robust parser
    - Add automated unit tests and a small test dataset
    - Provide a Makefile/CMake config and CI checks for build and warnings

## License
- Add your preferred license file (e.g., MIT) if you want to make this open-source publicly.

----
Updated README to match the project's current behavior and file names.